{"ast":null,"code":"import React from'react';import\"../assets/css/login.css\";import{useFormik}from'formik';import*as yup from'yup';import{Link}from'react-router-dom';import axios from'axios';import{useDispatch}from'react-redux';import{ActionType}from'../redux/type/productType';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var formik=useFormik({initialValues:{number:\"\",password:\"\"},validationSchema:yup.object({password:yup.string().required(\"Password is a required field\").min(5,\"Minimum 5 characters must\").strict().trim(),number:yup.string().required(\"Number is a required field\").max(10,\"Maximum 10 digits only\").matches(/^[0-9]+$/,\"Must be only digits\")}),onSubmit:function onSubmit(userdata,_ref){var resetForm=_ref.resetForm;axios.post(\"http://demo.cleversoindia.com/serviceApi/clogin/do_login\",{\"loginData\":{\"userPhone\":userdata.number,\"userPassword\":userdata.password}}).then(function(res){if(res.data.response.code===400){localStorage.setItem('token',res.data.response.data.token);dispatch({type:ActionType.LOGIN_SUCCESS});window.location.href=\"/\";}else{console.log(res.data.response.status);}}).catch(function(err){console.error(err.message);});resetForm({userdata:\"\"});}});return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"jumb\",children:[/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mary btn-block btn-lg\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login with facebook\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"SignForm-form-line\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"SignForm-form-line-ico\",children:\"or\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"divider\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",className:\"form-group\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mobile number\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your mobile number\",className:\"form-control\",type:\"number\",name:\"number\",onChange:formik.handleChange,value:formik.values.number}),formik.errors.number&&formik.touched.number?/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:formik.errors.number}):null,/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password...\",className:\"form-control\",type:\"password\",name:\"password\",onChange:formik.handleChange,value:formik.values.password}),formik.errors.password&&formik.touched.password?/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:formik.errors.password}):null,/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-block btn-lg\",type:\"submit\",children:\"Login\"})})]}),/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"hr\",{className:\"hariz\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an account? Signup as\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/service\",children:\"Service Provider\"}),\" | \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Register\"})]})]})]})})})});};export default Login;","map":{"version":3,"sources":["/Users/apple/Desktop/Projects/Vendor-App/VendorsWeb/src/pages/login.js"],"names":["React","useFormik","yup","Link","axios","useDispatch","ActionType","Login","dispatch","formik","initialValues","number","password","validationSchema","object","string","required","min","strict","trim","max","matches","onSubmit","userdata","resetForm","post","then","res","data","response","code","localStorage","setItem","token","type","LOGIN_SUCCESS","window","location","href","console","log","status","catch","err","error","message","handleSubmit","handleChange","values","errors","touched"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"../assets/css/login.css\"\nimport {useFormik} from 'formik';\nimport * as yup from 'yup';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { ActionType } from '../redux/type/productType';\n\nconst Login = () => {\n    const dispatch = useDispatch();\n    const formik = useFormik({\n        initialValues : {\n            number:\"\",\n            password:\"\",\n        },\n        validationSchema : yup.object({\n            password : yup.string().required(\"Password is a required field\").min(5, \"Minimum 5 characters must\").strict().trim(),\n            number:yup.string().required(\"Number is a required field\").max(10,\"Maximum 10 digits only\").matches(/^[0-9]+$/, \"Must be only digits\"),\n        }),\n        onSubmit:(userdata,{resetForm} ) => {\n            axios.post(\"http://demo.cleversoindia.com/serviceApi/clogin/do_login\",{\"loginData\":{\n                \"userPhone\":userdata.number,\n                \"userPassword\":userdata.password\n            }}\n            ).then(res => {\n                if(res.data.response.code === 400) {\n                    localStorage.setItem('token',res.data.response.data.token);\n                    dispatch({ type: ActionType.LOGIN_SUCCESS});\n                    window.location.href=\"/\";\n                } else {\n                    console.log(res.data.response.status);\n                }\n            }).catch(err => {\n                console.error(err.message);\n            })\n\n            resetForm({userdata:\"\"})\n        }\n    }) \n    return (\n        <div className=\"login\">\n            <div className=\"container\">\n                <center>\n                    <div className=\"jumb\">\n                        <center>\n                            <h2>Login</h2>\n                            <button className=\"btn mary btn-block btn-lg\"><Link to=\"/login\">Login with facebook</Link></button>\n                            <div className=\"SignForm-form-line\">\n                                <i className=\"SignForm-form-line-ico\">or</i>\n                                <hr className=\"divider\"/>\n                            </div>\n                        </center>\n                        <form autoComplete=\"off\" className=\"form-group\" onSubmit={formik.handleSubmit}>\n                            <label>Mobile number</label>\n                            <input placeholder=\"Enter your mobile number\" className=\"form-control\" type=\"number\"\n                            name=\"number\" onChange = {formik.handleChange} value={formik.values.number} />\n                            {formik.errors.number && formik.touched.number ?\n                                <div className=\"text-danger\">{formik.errors.number}</div> : null\n                            }\n                            <label>Password</label>\n                            <input placeholder=\"Password...\" className=\"form-control\" type=\"password\"\n                            name=\"password\" onChange = {formik.handleChange} value={formik.values.password} />\n                            {formik.errors.password && formik.touched.password ?\n                                <div className=\"text-danger\">{formik.errors.password}</div> : null\n                            }\n                            <center>\n                                <button className=\"btn btn-danger btn-block btn-lg\" type=\"submit\">Login</button>\n                            </center>\n                            {/* <div>{formValue.name}</div> */}\n                        </form>\n                        <center>\n                            <hr className=\"hariz\"/>\n                            <p>Don't have an account? Signup as</p>\n                            <p><Link to=\"/service\">Service Provider</Link> | <Link to=\"/signup\">Register</Link></p>\n                        </center>\n                    </div>\n                </center>\n            </div>\n        </div>\n    )\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}