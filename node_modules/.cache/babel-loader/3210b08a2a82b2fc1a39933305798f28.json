{"ast":null,"code":"import _toConsumableArray from\"/Users/apple/Desktop/Projects/Vendor-App/VendorsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/apple/Desktop/Projects/Vendor-App/VendorsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/apple/Desktop/Projects/Vendor-App/VendorsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/apple/Desktop/Projects/Vendor-App/VendorsWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{useHistory,useParams}from\"react-router\";import\"../assets/css/dependCatagory.css\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{useForm}from\"react-hook-form\";import authAxios from\"../service/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dependcatagory=function Dependcatagory(){var _useForm=useForm(),handleSubmit=_useForm.handleSubmit;var _useParams=useParams(),product=_useParams.product,location=_useParams.location;var history=useHistory();var roleRef=useRef();var roleRefs=useRef();var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1];var _useState3=useState(new Date()),_useState4=_slicedToArray(_useState3,2),startDate1=_useState4[0],setStartDate1=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),arr1=_useState6[0],setArr1=_useState6[1];var _useState7=useState(\"Next\"),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],settype=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),itm=_useState10[0],setitm=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(\"Sample\"),_useState14=_slicedToArray(_useState13,2),sname=_useState14[0],setSname=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),one=_useState16[0],setOne=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),one1=_useState18[0],setOne1=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),two=_useState20[0],setTwo=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),two1=_useState22[0],setTwo1=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),four=_useState24[0],setFour=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),four1=_useState26[0],setFour1=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),question=_useState28[0],setQuestion=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),five=_useState30[0],setFive=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),five1=_useState32[0],setFive1=_useState32[1];var _useState33=useState([]),_useState34=_slicedToArray(_useState33,2),qarr=_useState34[0],setQarr=_useState34[1];var service=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var respo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return authAxios.post(\"/cwebsite/get_sub_service\",{serviceId:product}).catch(function(err){console.error(err.message);});case 2:respo=_context.sent;setSname(respo.data.response.data[0].serviceName);case 4:case\"end\":return _context.stop();}}},_callee);}));return function service(){return _ref.apply(this,arguments);};}();roleRefs.current=service;var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,res,lngth;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return authAxios.post(\"/cwebsite/get_question\",{serviceId:product}).catch(function(err){console.error(err.message);});case 2:response=_context2.sent;console.log(response.data);res=response.data.response;lngth=res.data;if(res.code===200){setPage(res.data.length);if(itm<lngth.length-1){setArr1(res.data[0].question);}else{setArr1(res.data[itm].question);settype(\"Submit\");}}else{console.log(\"Error\");}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchData(){return _ref2.apply(this,arguments);};}();roleRef.current=fetchData;useEffect(function(){return roleRef.current();},[itm]);useEffect(function(){return roleRefs.current();},[itm]);var arr=[{inputId:one1,value:one},{inputId:four1,value:four},{inputId:two1,value:two},{inputId:five1,value:five}];var newArr=arr.filter(function(item){return item.value!==\"\";});useEffect(function(){setQuestion({enquireData:{serviceId:product,locationId:location,requestFromDate:startDate1,requestToDate:startDate,questionPage:qarr,enquireTYpe:2,serviceAmount:600}});},[qarr,product,location,startDate,startDate1]);var onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setQarr(function(qarr){return[].concat(_toConsumableArray(qarr),[{pageId:itm+1,questionList:newArr}]);});if(type===\"Next\"){setitm(itm+1);setOne(\"\");setFour([]);setFive(\"\");setOne1(\"\");setTwo1(\"\");setFour1(\"\");setFive1(\"\");}else if(type===\"Submit\"){if(localStorage.getItem(\"token\")!==null){authAxios.post(\"/cenquire/save_enquire\",question).then(function(res){if(res.data.response.code===200){history.push(\"/success/1\");}else{history.push(\"/success/0\");}}).catch(function(err){console.error(err.message);});}else{alert(\"Please Login..\");history.push(\"/login\");}}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function onSubmit(){return _ref3.apply(this,arguments);};}();var back=function back(){if(itm!==0){setitm(itm-1);settype(\"Next\");}else{history.goBack();}};var handleChange=function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value,id=_evt$target.id;if(name===\"radio\"){setOne(value);setOne1(id);}else if(name===\"checkbox\"){setFour(function(four){return[].concat(_toConsumableArray(four),[value]);});setFour1(id);}};var handleChanges=function handleChanges(evt){var _evt$target2=evt.target,value=_evt$target2.value,id=_evt$target2.id;setFive(value);setFive1(id);};var handleChangess=function handleChangess(evt){var _evt$target3=evt.target,value=_evt$target3.value,id=_evt$target3.id;setTwo(value);setTwo1(id);};return/*#__PURE__*/_jsx(\"div\",{className:\"dependCatagory\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"containe\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"lef\",onClick:function onClick(){return back();},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-left\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"p\",{children:sname})})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"botm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"para\",children:[\"Question \",itm+1,\" of \",page]}),arr1.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"tit\",children:item.question}),item.option&&item.option.length>0?item[\"option\"].map(function(k){return/*#__PURE__*/_jsx(\"div\",{className:\"loop\",children:item.isRequired===\"Yes\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:item.inputType,name:item.inputType,value:k.optionValue,id:item.inputId,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:k.optionValue})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:item.inputType,name:item.inputType,value:k.optionValue,id:item.inputId,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:k.optionValue})]})},k.optionId);}):/*#__PURE__*/_jsx(\"div\",{className:\"loop\",children:item.inputType===\"text\"?/*#__PURE__*/_jsx(\"div\",{children:item.isRequired===\"Yes\"?/*#__PURE__*/_jsx(\"input\",{type:item.inputType,id:item.inputId,onChange:handleChangess,placeholder:item.questionTitle,required:true}):/*#__PURE__*/_jsx(\"input\",{type:item.inputType,id:item.inputId,onChange:handleChangess,placeholder:item.questionTitle})}):/*#__PURE__*/_jsx(\"div\",{children:item.isRequired===\"Yes\"?/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:item.inputId,value:five,required:true,onChange:handleChanges,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"})]}):/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:item.inputId,value:five,onChange:handleChanges,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"})]})})})]},item.inputId);}),itm===page-1?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"date list-unstyled\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"When would you like to have the cleaners over?\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h4\",{children:\"Your chances of getting cleaners are higher if you set the preferred date to be at least 48 hours from now.\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Preferred Date\"}),/*#__PURE__*/_jsx(DatePicker,{className:\"dat\",selected:startDate,onChange:function onChange(date){return setStartDate(date);},showTimeSelect:true,dateFormat:\"Pp\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Alternative Date (Optional)\"}),/*#__PURE__*/_jsx(DatePicker,{className:\"dat\",selected:startDate1,onChange:function onChange(date){return setStartDate1(date);},showTimeSelect:true,dateFormat:\"Pp\"})]})]})}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"last\",children:/*#__PURE__*/_jsx(\"button\",{children:type})})]})]})});};export default Dependcatagory;","map":{"version":3,"sources":["/Users/apple/Desktop/Projects/Vendor-App/VendorsWeb/src/subCatagory/dependcatagory.js"],"names":["React","useEffect","useRef","useState","useHistory","useParams","DatePicker","useForm","authAxios","Dependcatagory","handleSubmit","product","location","history","roleRef","roleRefs","Date","startDate","setStartDate","startDate1","setStartDate1","arr1","setArr1","type","settype","itm","setitm","page","setPage","sname","setSname","one","setOne","one1","setOne1","two","setTwo","two1","setTwo1","four","setFour","four1","setFour1","question","setQuestion","five","setFive","five1","setFive1","qarr","setQarr","service","post","serviceId","catch","err","console","error","message","respo","data","response","serviceName","current","fetchData","log","res","lngth","code","length","arr","inputId","value","newArr","filter","item","enquireData","locationId","requestFromDate","requestToDate","questionPage","enquireTYpe","serviceAmount","onSubmit","pageId","questionList","localStorage","getItem","then","push","alert","back","goBack","handleChange","evt","target","name","id","handleChanges","handleChangess","map","option","k","isRequired","inputType","optionValue","optionId","questionTitle","date"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport \"../assets/css/dependCatagory.css\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useForm } from \"react-hook-form\";\nimport authAxios from \"../service/axios\";\n\nconst Dependcatagory = () => {\n  const { handleSubmit } = useForm();\n\n  const { product, location } = useParams();\n  const history = useHistory();\n\n  const roleRef = useRef();\n  const roleRefs = useRef();\n\n  const [startDate, setStartDate] = useState(new Date());\n  const [startDate1, setStartDate1] = useState(new Date());\n  const [arr1, setArr1] = useState([]);\n  const [type, settype] = useState(\"Next\");\n  const [itm, setitm] = useState(0);\n  const [page, setPage] = useState(0);\n  const [sname, setSname] = useState(\"Sample\");\n  const [one, setOne] = useState(\"\");\n  const [one1, setOne1] = useState(\"\");\n  const [two, setTwo] = useState([]);\n  const [two1, setTwo1] = useState(\"\");\n  const [four, setFour] = useState([]);\n  const [four1, setFour1] = useState(\"\");\n  const [question, setQuestion] = useState();\n  const [five, setFive] = useState(\"\");\n  const [five1, setFive1] = useState(\"\");\n  const [qarr, setQarr] = useState([]);\n\n  const service = async () => {\n    const respo = await authAxios\n      .post(\"/cwebsite/get_sub_service\", { serviceId: product })\n      .catch((err) => {\n        console.error(err.message);\n      });\n    setSname(respo.data.response.data[0].serviceName);\n  };\n\n  roleRefs.current = service;\n\n  const fetchData = async () => {\n    const response = await authAxios\n      .post(\"/cwebsite/get_question\", { serviceId: product })\n      .catch((err) => {\n        console.error(err.message);\n      });\n    console.log(response.data);\n    const res = response.data.response;\n    const lngth = res.data;\n    if (res.code === 200) {\n      setPage(res.data.length);\n      if (itm < lngth.length - 1) {\n        setArr1(res.data[0].question);\n      } else {\n        setArr1(res.data[itm].question);\n        settype(\"Submit\");\n      }\n    } else {\n      console.log(\"Error\");\n    }\n  };\n\n  roleRef.current = fetchData;\n\n  useEffect(() => {\n    return roleRef.current();\n  }, [itm]);\n\n  useEffect(() => {\n    return roleRefs.current();\n  }, [itm]);\n\n  const arr = [\n    {\n      inputId: one1,\n      value: one,\n    },\n    {\n      inputId: four1,\n      value: four,\n    },\n    {\n      inputId: two1,\n      value: two,\n    },\n    {\n      inputId: five1,\n      value: five,\n    },\n  ];\n\n  const newArr = arr.filter((item) => {\n    return item.value !== \"\";\n  });\n\n  useEffect(() => {\n    setQuestion({\n      enquireData: {\n        serviceId: product,\n        locationId: location,\n        requestFromDate: startDate1,\n        requestToDate: startDate,\n        questionPage: qarr,\n        enquireTYpe: 2,\n        serviceAmount: 600,\n      },\n    });\n  }, [qarr, product, location, startDate, startDate1]);\n\n  const onSubmit = async () => {\n    setQarr((qarr) => [\n      ...qarr,\n      {\n        pageId: itm + 1,\n        questionList: newArr,\n      },\n    ]);\n\n    if (type === \"Next\") {\n      setitm(itm + 1);\n      setOne(\"\");\n      setFour([]);\n      setFive(\"\");\n      setOne1(\"\");\n      setTwo1(\"\");\n      setFour1(\"\");\n      setFive1(\"\");\n    } else if (type === \"Submit\") {\n      if (localStorage.getItem(\"token\") !== null) {\n        authAxios\n          .post(\"/cenquire/save_enquire\", question)\n          .then((res) => {\n            if (res.data.response.code === 200) {\n              history.push(`/success/1`);\n            } else {\n              history.push(`/success/0`);\n            }\n          })\n          .catch((err) => {\n            console.error(err.message);\n          });\n      } else {\n        alert(\"Please Login..\");\n        history.push(\"/login\");\n      }\n    }\n  };\n\n  const back = () => {\n    if (itm !== 0) {\n      setitm(itm - 1);\n      settype(\"Next\");\n    } else {\n      history.goBack();\n    }\n  };\n\n  const handleChange = (evt) => {\n    const { name, value, id } = evt.target;\n    if (name === \"radio\") {\n      setOne(value);\n      setOne1(id);\n    } else if (name === \"checkbox\") {\n      setFour((four) => [...four, value]);\n      setFour1(id);\n    }\n  };\n\n  const handleChanges = (evt) => {\n    const { value, id } = evt.target;\n    setFive(value);\n    setFive1(id);\n  };\n\n  const handleChangess = (evt) => {\n    const { value, id } = evt.target;\n    setTwo(value);\n    setTwo1(id);\n  };\n\n  return (\n    <div className=\"dependCatagory\">\n      <div className=\"containe\">\n        <div className=\"top\">\n          <ul className=\"list-inline\">\n            <li className=\"lef\" onClick={() => back()}>\n              <i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\n            </li>\n            <li>\n              <p>{sname}</p>\n            </li>\n          </ul>\n        </div>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"botm\">\n            <p className=\"para\">\n              Question {itm + 1} of {page}\n            </p>\n\n            {arr1.map((item) => (\n              <div key={item.inputId}>\n                <p className=\"tit\">{item.question}</p>\n                {item.option && item.option.length > 0 ? (\n                  item[\"option\"].map((k) => (\n                    <div className=\"loop\" key={k.optionId}>\n                      {item.isRequired === \"Yes\" ? (\n                        <div>\n                          <input\n                            type={item.inputType}\n                            name={item.inputType}\n                            value={k.optionValue}\n                            id={item.inputId}\n                            onChange={handleChange}\n                            required\n                          />\n                          <label>{k.optionValue}</label>\n                        </div>\n                      ) : (\n                        <div>\n                          <input\n                            type={item.inputType}\n                            name={item.inputType}\n                            value={k.optionValue}\n                            id={item.inputId}\n                            onChange={handleChange}\n                          />\n                          <label>{k.optionValue}</label>\n                        </div>\n                      )}\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"loop\">\n                    {item.inputType === \"text\" ? (\n                      <div>\n                        {item.isRequired === \"Yes\" ? (\n                          <input\n                            type={item.inputType}\n                            id={item.inputId}\n                            onChange={handleChangess}\n                            placeholder={item.questionTitle}\n                            required\n                          />\n                        ) : (\n                          <input\n                            type={item.inputType}\n                            id={item.inputId}\n                            onChange={handleChangess}\n                            placeholder={item.questionTitle}\n                          />\n                        )}\n                      </div>\n                    ) : (\n                      <div>\n                        {item.isRequired === \"Yes\" ? (\n                          <select\n                            className=\"form-control\"\n                            id={item.inputId}\n                            value={five}\n                            required\n                            onChange={handleChanges}\n                          >\n                            <option value=\"1\">1</option>\n                            <option value=\"2\">2</option>\n                            <option value=\"3\">3</option>\n                            <option value=\"4\">4</option>\n                          </select>\n                        ) : (\n                          <select\n                            className=\"form-control\"\n                            id={item.inputId}\n                            value={five}\n                            onChange={handleChanges}\n                          >\n                            <option value=\"1\">1</option>\n                            <option value=\"2\">2</option>\n                            <option value=\"3\">3</option>\n                            <option value=\"4\">4</option>\n                          </select>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n\n            {itm === page - 1 ? (\n              <div>\n                <ul className=\"date list-unstyled\">\n                  <li>\n                    <h3>When would you like to have the cleaners over?</h3>\n                  </li>\n                  <li>\n                    <h4>\n                      Your chances of getting cleaners are higher if you set the\n                      preferred date to be at least 48 hours from now.\n                    </h4>\n                  </li>\n                  <li>\n                    <p>Preferred Date</p>\n                    <DatePicker\n                      className=\"dat\"\n                      selected={startDate}\n                      onChange={(date) => setStartDate(date)}\n                      showTimeSelect\n                      dateFormat=\"Pp\"\n                    />\n                  </li>\n                  <li>\n                    <p>Alternative Date (Optional)</p>\n                    <DatePicker\n                      className=\"dat\"\n                      selected={startDate1}\n                      onChange={(date) => setStartDate1(date)}\n                      showTimeSelect\n                      dateFormat=\"Pp\"\n                    />\n                  </li>\n                </ul>\n              </div>\n            ) : null}\n          </div>\n          <div className=\"last\">\n            <button>{type}</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Dependcatagory;\n"]},"metadata":{},"sourceType":"module"}